{{define "select"}}
<div class="form-group">
    {{if .Label}}
    <label for="{{.ID}}" class="form-label {{if .Required}}required{{end}}">
        {{.Label}}
        {{if .Required}}<span class="required-indicator">*</span>{{end}}
    </label>
    {{end}}
    <select 
        id="{{.ID}}" 
        name="{{if .Name}}{{.Name}}{{else}}{{.ID}}{{end}}" 
        class="form-control {{if .Size}}form-control-{{.Size}}{{end}} {{if .ValidationState}}is-{{.ValidationState}}{{end}}"
        {{if .Required}}required{{end}}
        {{if .Disabled}}disabled{{end}}
        {{if .Multiple}}multiple{{end}}
        {{range $key, $value := .Attributes}}{{$key}}="{{$value}}" {{end}}
    >
        {{if .Placeholder}}
        <option value="" {{if not .Value}}selected{{end}} disabled>{{.Placeholder}}</option>
        {{end}}
        {{range .Options}}
        <option value="{{.Value}}" {{if eq .Value $.Value}}selected{{end}} {{if .Disabled}}disabled{{end}}>
            {{.Text}}
        </option>
        {{end}}
        {{if .OptionGroups}}
        {{range .OptionGroups}}
        <optgroup label="{{.Label}}">
            {{range .Options}}
            <option value="{{.Value}}" {{if eq .Value $.Value}}selected{{end}} {{if .Disabled}}disabled{{end}}>
                {{.Text}}
            </option>
            {{end}}
        </optgroup>
        {{end}}
        {{end}}
    </select>
    {{if .HelpText}}
    <div class="form-text">{{.HelpText}}</div>
    {{end}}
    {{if .ValidationMessage}}
    <div class="{{if eq .ValidationState "valid"}}valid-feedback{{else}}invalid-feedback{{end}}">
        {{.ValidationMessage}}
    </div>
    {{end}}
</div>
{{end}}